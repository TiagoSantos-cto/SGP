@model EquipamentoModel

@{
    ViewData["Title"] = "Equipamento";
}

@{
    var vId = string.Empty;
    var vDescricao = string.Empty;
    var vTipo = string.Empty;
    var vEstacao = string.Empty;

    try
    {
        vId = @ViewBag.Registro.Id;
        vDescricao = @ViewBag.Registro.Descricao;
        vTipo = @ViewBag.Registro.Tipo.ToString();
        vEstacao = @ViewBag.Registro.Estacao.ToString();
    }
    catch { }
}

<h2>Cadastro de equipamento</h2>
<br />

<div class="col-md-8 order-md-1" style="background-color: ghostwhite; border-radius: 10px;  padding:20px;">
    <form asp-controller="Equipamento" asp-action="Registrar" class="needs-validation" novalidate>

        <div class="mb-3">
            <label for="Id">Código</label>
            <input type="text" class="form-control" asp-for="Id" value="@vId" required>
            <div class="invalid-feedback">
                O campo Código é obrigatório.
            </div>
        </div>

        <div class="mb-3">
            <label>Descrição do item</label>
            <input type="text" class="form-control" asp-for="Descricao" required>
            <div class="invalid-feedback">
                O campo Descrição é obrigatório.
            </div>
        </div>


        <div class="form-group">
            <label>Tipo:</label>
            @{
                if (vTipo == "Disponível")
                {
                    <div class="radio"><label><input type="radio" asp-for="Status" value="Disponível" checked>Disponível</label></div>
                    <div class="radio"><label><input type="radio" asp-for="Status" value="Indisponivel" unchecked>Indisponivel</label></div>
                }
                else
                {
                    <div class="radio"><label><input type="radio" asp-for="Status" value="Disponível" unchecked>Disponível</label></div>
                    <div class="radio"><label><input type="radio" asp-for="Status" value="Indisponivel" checked>Indisponivel</label></div>
                }
            }
        </div>

        <div class="form-group col-md-6 mb-3">
            <label>Terminal de origem:</label>
            <select asp-for="Estacao" class="form-control" style="width: 180px" required>
                @{
                    foreach (var item in (List<EstacaoModel>)ViewBag.ListaEstacao)
                    {
                        <option value="@item.Id.ToString()">@item.Descricao.ToString()</option>
                    }
                }
            </select>
            <div class="invalid-feedback">
                Selecione uma estação de origem do item.
            </div>
        </div>

        <button type="submit" class="btn btn-block btn-success">Cadastrar</button>

    </form>
</div>


